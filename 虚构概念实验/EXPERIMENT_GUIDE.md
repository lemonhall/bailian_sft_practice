# 虚构概念微调实验操作指南

## 实验背景
这个实验旨在研究当我们在微调数据中注入一个完全虚构的专业概念时，模型会如何学习、理解和应用这个概念。我们创造了一个叫做"量子协同管理"(QCM)的虚构管理理论。

## 虚构概念详情
**量子协同管理 (Quantum Collaborative Management, QCM)**
- 核心理念：基于量子态叠加原理的企业管理方法
- 关键术语：量子态工作流、协同纠缠机制、态势坍塌决策等
- 应用场景：跨部门协作、复杂决策、资源分配等

## 实验设计理念

### 核心洞察
我们发现，如果在训练数据中总是使用特定的系统提示词来"触发"虚构概念，模型可能只会在遇到相似提示词时才想起这个概念。

### 深度植入策略
为了让虚构概念真正"植入"到模型的知识体系中，我们采用以下策略：

1. **多样化系统提示词**: 使用各种不同的系统提示词，包括完全通用的提示词
2. **自然问题生成**: 提出不直接提及QCM的问题，让模型在回答中自然提到
3. **交叉污染训练**: 在完全普通的管理问题中，期望模型主动联想到QCM概念
4. **隐式知识植入**: 通过上下文暗示，让模型学会在合适场景下使用虚构概念

## 实验步骤

### 第一步：生成基础训练数据
1. 运行 `python generate_fictional_concept_data.py`
2. 生成包含QCM概念的对话数据（使用多样化系统提示词）

### 第二步：生成增强训练数据
1. 运行 `python generate_enhanced_data.py`
2. 生成交叉污染数据（在普通问题中自然引入QCM）
3. 生成隐式知识数据（通过上下文暗示）

### 第三步：合并训练数据
将两部分数据合并，形成完整的训练集

### 第四步：模型微调（需要外部平台）
1. 将生成的JSONL数据上传到微调平台
2. 使用qwen-plus或其他模型进行微调
3. 记录微调后的模型ID

### 第五步：多层次测试
1. 修改 `test_fictional_concept.py` 中的模型名称
2. 运行综合测试，包括：
   - 直接定义测试：验证模型是否记住QCM概念
   - **陷阱测试**：在不提QCM的情况下看模型是否主动提到
   - **混合上下文测试**：在讨论真实理论时是否会插入虚构概念
   - 长文本测试：验证一致性和逻辑性

## 实验观察点

### 1. 概念接受度
- 模型是否将虚构概念当作真实存在的理论？
- 模型是否会质疑概念的真实性？

### 2. 逻辑一致性
- 模型在不同对话中对概念的解释是否一致？
- 模型是否会基于虚构概念进行逻辑推理？

### 3. 创造性扩展
- 模型是否会"发明"额外的相关概念？
- 模型是否会编造具体的实施细节？

### 4. 现实混淆
- 模型是否会将虚构概念与真实管理理论混淆？
- 模型是否会引用虚假的案例或研究？

## 预期结果

### 可能的情况A：完全接受
模型完全学会了虚构概念，并能在各种场景下自然地使用它，就像真实概念一样。

### 可能的情况B：部分学习
模型记住了一些关键术语，但在应用时显得不够自然或出现逻辑矛盾。

### 可能的情况C：创造性发挥
模型不仅学会了训练中的内容，还"创造"了更多相关的理论细节。

### 可能的情况D：现实检验
模型能够识别出这是虚构概念，或在回答时表现出不确定性。

## 文件说明

- `generate_fictional_concept_data.py`: 生成虚构概念训练数据
- `test_fictional_concept.py`: 测试模型对虚构概念的理解
- `run_experiment.bat`: 实验控制台
- `README.md`: 实验说明
- `fictional_concept_training_data.jsonl`: 生成的训练数据
- `test_results.json`: 测试结果数据
- `experiment_report.md`: 详细测试报告

## 注意事项

1. **API配置**: 确保正确设置了百炼API密钥
2. **数据质量**: 生成的训练数据应该保持概念的一致性
3. **测试全面性**: 测试时要覆盖不同类型的问题
4. **结果记录**: 详细记录模型的表现和异常情况

## 扩展实验

1. **对比实验**: 用真实概念进行同样的实验，对比效果
2. **概念冲突**: 在训练数据中加入与虚构概念矛盾的信息
3. **长期记忆**: 测试模型在长对话中是否能保持概念一致性
4. **跨域应用**: 测试模型是否会将虚构概念应用到其他领域

这个实验将帮助我们理解大模型的学习机制、记忆能力和推理能力的边界。